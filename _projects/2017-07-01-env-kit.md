---
layout: project
title: EnvKit
created: 2017
modified: 2017-11-06
date: '2017-03-01 00:00:00 -0100'
thumbnail: envkit-irradiance-example.jpg
image:
link: https://github.com/albedo-engine/env-kit

description: |
    EnvKit is an attempt to create a simple command line tool generating
    irradiance and radiance maps from a texture.

headers:
    - icon: fa-calendar
      description: 2017
    - icon: fa-clock-o
      description: 3 weeks
    - icon: fa-wrench
      description: C++, OpenGL, TBB

---

### Overview

EnvKit is a command line tool generating irradiance and radiances maps from an
HDR texture. For now, it only generates the irradiance map, without generating the
Spherical Harmonics.

The tool can also be used to make a conversion between the different
type of images:
* Latlong
* Cubecross
* Cubemap

My goal is to improve this project, add new features,
in order to use it in my own engine!

### Current result

For now, you can easily generate a convolved environment by specifying
your HDR image, its type (latlong, cubecross, etc...), as well as the
output size you want.

For now, only cubecross and cubemap can be generated from the tool.

### Example

#### Input HDR image

The image below will be used for our example. In order to display it in your browser,
I tonemapped the image to a 16-bits per channel version. The tonemapping has been
made with Photoshop.

<div>
  <figure>
    <img class="markdown-img-large" src="{{site.url}}/{{site.projects_img_folder}}/envkit-latlong-example.jpg" />
    <figcaption class="markdown-img-caption">HDR image used as input (tonemapped for the example)</figcaption>
  </figure>
</div>

#### Conversion

When asking the binary to output a **cubemap** converted image, with a size of *512x512*, I obtain the following result:

<div>
  <figure>
    <img class="markdown-img-large" src="{{site.url}}/{{site.projects_img_folder}}/envkit-cubecross-example.jpg" />
    <figcaption class="markdown-img-caption">Convertion to Cubecross using the binary</figcaption>
  </figure>
</div>

As you can see, the color are quite different here. This is due to the tone mapping effect I applied. Unfortunately, the parameters were not good enough, but this allows us to visualize the HDR image more easily.

#### Irradiance

By asking an **irradiance** map of size *512x512*, we obtain the following result:
<div>
  <figure>
    <img class="markdown-img-large" src="{{site.url}}/{{site.projects_img_folder}}/envkit-irradiance-example.jpg" />
    <figcaption class="markdown-img-caption">Irradiance obtained from the tool</figcaption>
  </figure>
</div>

### What's next

Generating an irradiance map is good, but we do not want to spent too much memory.
It would be better to approximate the compatuation using Spherical Harmonics,
and this is the next step!


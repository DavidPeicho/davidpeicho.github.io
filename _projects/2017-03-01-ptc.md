---
layout: project
title: Pattern Tracking Controller
created: 2017
modified: 2017-11-06
date: '2017-03-01 00:00:00 -0100'
thumbnail: https://user-images.githubusercontent.com/8783766/28068965-f5cfa7a6-6647-11e7-88b3-d1d564c1db92.gif
image:
link: https://github.com/DavidPeicho/pattern-tracking-controller

description: |
  Pattern Tracking Controller is a small C++ library making arrow recognition
  in real time. For learning purposes, we did not use OpenCV for the detection.

headers:
    - icon: fa fa-calendar
      description: 2017
    - icon: fa fa-clock-o
      description: 3 months
    - icon: fa fa-wrench
      description: C++, OpenCV

---

### Overview

This project has been made as part as our final mark for our
Image Processing course at EPITA. The goal was to develop an image processing
pipeline for object recognition. Using a machine learning algorithm was not
part of the course, and the recognition could be made on only one object.

I decided to go for an arrow recognition algorithm. However, I wanted the
algorithm to work in real time in order to move a game character by moving
the arrow in front of a camera.

The whole algorithm is implemented on the CPU, but the detection loop
is launched in a separate thread to avoid blocking the main thread.

### Processing steps

For the detection, we first start applying postprocessing effect,
such as binarization, and downscaling, which are considered *free* (< 0.5ms).

We then apply a **Chain Code** algorithm for contour extraction.

The last part before actual detection is to simply the contour by
using the **Douglas-Peucker** algorithm.

The final part is the actual detection, which is simply made for
our arrow shape. Here, angles and overall shape are matched by
comparing the detected edges together.

### Performance

The **Chain Code** part comes at a cost, it is not free and using something like
**Suzuki 85** would be better. An important part of the processing is spent here.

The **Douglas-Peucker** algorithm is also an important step regarding the
overall speed, however, this part is not avoidable.

If we wanted to speed up the detection, it would be better to launch
a CUDA or an OpenCL kernel using the GPU multiprocessing units.

